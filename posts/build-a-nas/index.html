<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>利用手头已有资源尽可能高配的搭一台nas | Trim21&#39;s</title>
<meta name="keywords" content="nas">
<meta name="description" content="现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）&#43;200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.
总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。
看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器
手头硬件
CPU 和主板

四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口
J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口.

内存
两条 4g 台式机 ddr4 内存
一条 ddr3 内存接口
硬盘

闪迪 Sata3 256G SSD
两条杂牌 M2 128G SSD
两块 2.5 寸机械硬盘 500G 1T
五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买.

购入 256g nvme ssd 一条, 牌子就不说了">
<meta name="author" content="">
<link rel="canonical" href="https://blog.trim21.me/posts/build-a-nas/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.trim21.me/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.trim21.me/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.trim21.me/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.trim21.me/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.trim21.me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://blog.trim21.me/posts/build-a-nas/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://blog.trim21.me/posts/build-a-nas/">
  <meta property="og:site_name" content="Trim21&#39;s">
  <meta property="og:title" content="利用手头已有资源尽可能高配的搭一台nas">
  <meta property="og:description" content="现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）&#43;200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.
总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。
看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器
手头硬件 CPU 和主板 四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口 J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口. 内存 两条 4g 台式机 ddr4 内存
一条 ddr3 内存接口
硬盘 闪迪 Sata3 256G SSD 两条杂牌 M2 128G SSD 两块 2.5 寸机械硬盘 500G 1T 五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买. 购入 256g nvme ssd 一条, 牌子就不说了">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-12-23T00:00:00+08:00">
    <meta property="article:modified_time" content="2025-03-03T05:55:21+08:00">
    <meta property="article:tag" content="nas">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="利用手头已有资源尽可能高配的搭一台nas">
<meta name="twitter:description" content="现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）&#43;200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.
总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。
看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器
手头硬件
CPU 和主板

四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口
J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口.

内存
两条 4g 台式机 ddr4 内存
一条 ddr3 内存接口
硬盘

闪迪 Sata3 256G SSD
两条杂牌 M2 128G SSD
两块 2.5 寸机械硬盘 500G 1T
五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买.

购入 256g nvme ssd 一条, 牌子就不说了">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "posts",
      "item": "https://blog.trim21.me/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "利用手头已有资源尽可能高配的搭一台nas",
      "item": "https://blog.trim21.me/posts/build-a-nas/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "利用手头已有资源尽可能高配的搭一台nas",
  "name": "利用手头已有资源尽可能高配的搭一台nas",
  "description": "现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）+200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.\n总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。\n看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器\n手头硬件 CPU 和主板 四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口 J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口. 内存 两条 4g 台式机 ddr4 内存\n一条 ddr3 内存接口\n硬盘 闪迪 Sata3 256G SSD 两条杂牌 M2 128G SSD 两块 2.5 寸机械硬盘 500G 1T 五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买. 购入 256g nvme ssd 一条, 牌子就不说了\n",
  "keywords": [
    "nas"
  ],
  "articleBody": "现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）+200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.\n总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。\n看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器\n手头硬件 CPU 和主板 四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口 J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口. 内存 两条 4g 台式机 ddr4 内存\n一条 ddr3 内存接口\n硬盘 闪迪 Sata3 256G SSD 两条杂牌 M2 128G SSD 两块 2.5 寸机械硬盘 500G 1T 五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买. 购入 256g nvme ssd 一条, 牌子就不说了\n机箱 蜗牛星际 B 款 不是前面提到的已经在用的 nas, 是双十一新买的, 50+邮费 20 迎广 肖邦 只有两个硬盘位, 用不上. 一台工控机, 只有两个硬盘位, 更用不上. 需求 用来跑数据库, 比如 mysql, mongodb, redis 等等, 需要跑在两块 raid1 硬盘上. 挂 bt, 不需要 raid. 备份电脑数据, 跟(1)一起放在 raid1 上. 所以需要购买的只有几块硬盘和新电源. 星际蜗牛的 4 个硬盘位已经足够了. 两块硬盘组 raid1, 两块硬盘直接用.\n如果以后需求大了, 需要升级更多硬盘的话, 可以换一个新的机箱, 用 pcie 接一个阵列卡, 最多能支持 12 块硬盘.\n最后选择了蜗牛星际的廉价机箱, 到手之后是 B 款. 硬盘还没买. 先用了剩下的四块硬盘硬盘.\n硬盘还没选好, 先把其他的硬件装起来了.\n空间非常紧张, 说紧凑也行\n已经有点生锈了\n这个机箱要把所有的线接上之后再把主板扣上去.\n原装散热器的高度是足够的, 为了方便安装我还是换了一个比较矮的IS-30, 高度 3cm, 是一开始担心原装散热器太高买的.\n系统 纠结了半天, 还是没直接用 debian 或者 ubuntu 这种发行版, 选择了 OpenMediaVault.\n用了一天, 很满足我的需求(因为我经常会 ssh 上去), 但是单纯作为 nas 的话, web 界面功能想必万由易用性还是差很多.\n",
  "wordCount" : "168",
  "inLanguage": "en",
  "datePublished": "2019-12-23T00:00:00+08:00",
  "dateModified": "2025-03-03T05:55:21+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.trim21.me/posts/build-a-nas/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Trim21's",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.trim21.me/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.trim21.me/" accesskey="h" title="Trim21&#39;s (Alt + H)">Trim21&#39;s</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.trim21.me/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      利用手头已有资源尽可能高配的搭一台nas
    </h1>
    <div class="post-meta"><span title='2019-12-23 00:00:00 +0800 +0800'>2019-12-23</span>

</div>
  </header> 
  <div class="post-content"><p>现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）+200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.</p>
<p>总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。</p>
<p>看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器</p>
<h2 id="手头硬件">手头硬件<a hidden class="anchor" aria-hidden="true" href="#手头硬件">#</a></h2>
<h3 id="cpu-和主板">CPU 和主板<a hidden class="anchor" aria-hidden="true" href="#cpu-和主板">#</a></h3>
<ol>
<li>四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口</li>
<li>J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口.</li>
</ol>
<h3 id="内存">内存<a hidden class="anchor" aria-hidden="true" href="#内存">#</a></h3>
<p>两条 4g 台式机 ddr4 内存</p>
<p>一条 ddr3 内存接口</p>
<h3 id="硬盘">硬盘<a hidden class="anchor" aria-hidden="true" href="#硬盘">#</a></h3>
<ol>
<li>闪迪 Sata3 256G SSD</li>
<li>两条杂牌 M2 128G SSD</li>
<li>两块 2.5 寸机械硬盘 500G 1T</li>
<li>五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买.</li>
</ol>
<p>购入 256g nvme ssd 一条, 牌子就不说了</p>
<h3 id="机箱">机箱<a hidden class="anchor" aria-hidden="true" href="#机箱">#</a></h3>
<ol>
<li>蜗牛星际 B 款 不是前面提到的已经在用的 nas, 是双十一新买的, 50+邮费 20</li>
<li>迎广 肖邦 只有两个硬盘位, 用不上.</li>
<li>一台工控机, 只有两个硬盘位, 更用不上.</li>
</ol>
<h2 id="需求">需求<a hidden class="anchor" aria-hidden="true" href="#需求">#</a></h2>
<ol>
<li>用来跑数据库, 比如 mysql, mongodb, redis 等等, 需要跑在两块 raid1 硬盘上.</li>
<li>挂 bt, 不需要 raid.</li>
<li>备份电脑数据, 跟(1)一起放在 raid1 上.</li>
</ol>
<p>所以需要购买的只有几块硬盘和新电源. 星际蜗牛的 4 个硬盘位已经足够了. 两块硬盘组 raid1, 两块硬盘直接用.</p>
<p>如果以后需求大了, 需要升级更多硬盘的话, 可以换一个新的机箱, 用 pcie 接一个阵列卡, 最多能支持 12 块硬盘.</p>
<p>最后选择了蜗牛星际的廉价机箱, 到手之后是 B 款. 硬盘还没买. 先用了剩下的四块硬盘硬盘.</p>
<p>硬盘还没选好, 先把其他的硬件装起来了.</p>
<p><img alt="机箱架子" loading="lazy" src="/static/nas/bd69bf14ly1ga6r768jf7j23402c04qx.jpg">
<img alt="正面" loading="lazy" src="/static/nas/bd69bf14ly1ga6r674zqxj22c0340kjt.jpg"></p>
<p><img alt="之前的itx机箱" loading="lazy" src="/static/nas/bd69bf14ly1ga6r542c9aj22c0340e8a.jpg"></p>
<p>空间非常紧张, 说紧凑也行</p>
<p><img alt="好几年没见" loading="lazy" src="/static/nas/bd69bf14ly1ga6r4qqltgj22c0340b2g.jpg"></p>
<p><img alt="CPU背板" loading="lazy" src="/static/nas/bd69bf14ly1ga6r47dg8gj22c03407wr.jpg"></p>
<p>已经有点生锈了</p>
<p><img alt="20191222_152216649_iOS.heic" loading="lazy" src="/static/nas/bd69bf14ly1ga6r3qvkv5j22c03407wq.jpg"></p>
<p>这个机箱要把所有的线接上之后再把主板扣上去.</p>
<p>原装散热器的高度是足够的, 为了方便安装我还是换了一个比较矮的<code>IS-30</code>, 高度 3cm, 是一开始担心原装散热器太高买的.</p>
<h2 id="系统">系统<a hidden class="anchor" aria-hidden="true" href="#系统">#</a></h2>
<p>纠结了半天, 还是没直接用 debian 或者 ubuntu 这种发行版, 选择了 OpenMediaVault.</p>
<p>用了一天, 很满足我的需求(因为我经常会 ssh 上去), 但是单纯作为 nas 的话, web 界面功能想必万由易用性还是差很多.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.trim21.me/tags/nas/">nas</a></li>
    </ul>
  </footer><script src="https://utteranc.es/client.js"
    repo="trim21/blog"
    issue-term="title"
    theme="github-dark"
    crossorigin="anonymous"
    async></script>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://blog.trim21.me/">Trim21&#39;s</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
