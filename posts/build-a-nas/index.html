<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #FF4D4D;
            --font-size: 17.5px;
        }
    </style>

    
    
    
    
    
    

    
    <title>利用手头已有资源尽可能高配的搭一台nas</title>
    <meta name="description" content="现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）&#43;200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.
总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满 …">
    <meta name="keywords" content='nas'>

    <meta property="og:url" content="https://blog.trim21.me/posts/build-a-nas/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="利用手头已有资源尽可能高配的搭一台nas">
    <meta property="og:description" content="现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）&#43;200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.
总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满 …">
    <meta property="og:image" content="https://blog.trim21.me/">
    <meta property="og:image:secure_url" content="https://blog.trim21.me/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="利用手头已有资源尽可能高配的搭一台nas">
    <meta name="twitter:description" content="现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）&#43;200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.
总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满 …">
    <meta property="twitter:domain" content="https://blog.trim21.me/posts/build-a-nas/">
    <meta property="twitter:url" content="https://blog.trim21.me/posts/build-a-nas/">
    <meta name="twitter:image" content="https://blog.trim21.me/">

    
    <link rel="canonical" href="https://blog.trim21.me/posts/build-a-nas/">

    
    <link rel="stylesheet" type="text/css" href="/css/normalize.min.css" media="print">

    
    <link rel="stylesheet" type="text/css" href="/css/main.min.css">

    
    <link id="dark-theme" rel="stylesheet" href="/css/dark.min.css">

    
    <script src="/js/bundle.min.275fedb6f364c8865658bae576d82b514ace973f6a13ed63503a85b20c697453.js" integrity="sha256-J1/ttvNkyIZWWLrldtgrUUrOlz9qE&#43;1jUDqFsgxpdFM="></script>

    
    
</head>
<body>
        <script>
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        

        <div class="nav-title">
            <a class="nav-brand" href="https://blog.trim21.me/">Trim21&#39;s Blog</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="https://blog.trim21.me/posts/" aria-label="" > Blog </a>
            </div>
            
            <div class="nav-link">
                <a href="https://blog.trim21.me/about/" aria-label="" > About </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
                <a aria-hidden="true" role="switch">
                    <span class="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
                <a aria-checked="false" aria-labelledby="hamburger-menu-toggle" id="hamburger-menu-toggle-target" role="switch">
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="https://blog.trim21.me/posts/" > Blog </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://blog.trim21.me/about/" > About </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
                    <a role="switch">
                        <span class="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    <div class="post container">
    <div class="post-header-section">
        <h1>利用手头已有资源尽可能高配的搭一台nas</h1>

        

        
	
	
	
	
        

	

	

	
          <small role="doc-subtitle"></small>
	

	
          <p class="post-date">
              

              December 23, 2019

              
          </p>
	

        <ul class="post-tags">
          
           
             <li class="post-tag"><a href="https://blog.trim21.me/tags/nas">nas</a></li>
           
         
        </ul>
    </div>

    <div class="post-content">
        <p>现成已有的 nas：一台蜗牛星际 B 口单百兆，现在放了四块 500G 的硬盘租了一个 raid6。除去硬盘成本 268（机器）+200（电源）, 硬盘是旧硬盘. 用了三四个月之后已经有三四块硬盘报警了.</p>
<p>总是觉得有些不爽，主要是又不想把现有 nas 里面的数据都拷出来换硬盘，又觉得现在的百兆和 1T 容量不太能让人满意，所以想搞一个千兆的高性能 nas。</p>
<p>看了看市面上 nas 的价格，感觉硬件配置又不太对的起价格，于是决定自己搞一个。正好自己现在还闲置着一台核显的 itx 小机器</p>
<h2 id="手头硬件">手头硬件</h2>
<h3 id="cpu-和主板">CPU 和主板</h3>
<ol>
<li>四代 i3 主板 4 个 sata3, 一个 m2 接口, 一个 pci-e 16x 接口, 两个 ddr4 内存接口</li>
<li>J1900, 主板两个 sata2 接口, 两个 ddr3 内存接口.</li>
</ol>
<h3 id="内存">内存</h3>
<p>两条 4g 台式机 ddr4 内存</p>
<p>一条 ddr3 内存接口</p>
<h3 id="硬盘">硬盘</h3>
<ol>
<li>闪迪 Sata3 256G SSD</li>
<li>两条杂牌 M2 128G SSD</li>
<li>两块 2.5 寸机械硬盘 500G 1T</li>
<li>五块 3.5 寸机械硬盘 均 500G, 目前看来是不够的, 还会再买.</li>
</ol>
<p>购入 256g nvme ssd 一条, 牌子就不说了</p>
<h3 id="机箱">机箱</h3>
<ol>
<li>蜗牛星际 B 款 不是前面提到的已经在用的 nas, 是双十一新买的, 50+邮费 20</li>
<li>迎广 肖邦 只有两个硬盘位, 用不上.</li>
<li>一台工控机, 只有两个硬盘位, 更用不上.</li>
</ol>
<h2 id="需求">需求</h2>
<ol>
<li>用来跑数据库, 比如 mysql, mongodb, redis 等等, 需要跑在两块 raid1 硬盘上.</li>
<li>挂 bt, 不需要 raid.</li>
<li>备份电脑数据, 跟(1)一起放在 raid1 上.</li>
</ol>
<p>所以需要购买的只有几块硬盘和新电源. 星际蜗牛的 4 个硬盘位已经足够了. 两块硬盘组 raid1, 两块硬盘直接用.</p>
<p>如果以后需求大了, 需要升级更多硬盘的话, 可以换一个新的机箱, 用 pcie 接一个阵列卡, 最多能支持 12 块硬盘.</p>
<p>最后选择了蜗牛星际的廉价机箱, 到手之后是 B 款. 硬盘还没买. 先用了剩下的四块硬盘硬盘.</p>
<p>硬盘还没选好, 先把其他的硬件装起来了.</p>
<p><img src="/static/nas/bd69bf14ly1ga6r768jf7j23402c04qx.jpg" alt="机箱架子">
<img src="/static/nas/bd69bf14ly1ga6r674zqxj22c0340kjt.jpg" alt="正面"></p>
<p><img src="/static/nas/bd69bf14ly1ga6r542c9aj22c0340e8a.jpg" alt="之前的itx机箱"></p>
<p>空间非常紧张, 说紧凑也行</p>
<p><img src="/static/nas/bd69bf14ly1ga6r4qqltgj22c0340b2g.jpg" alt="好几年没见"></p>
<p><img src="/static/nas/bd69bf14ly1ga6r47dg8gj22c03407wr.jpg" alt="CPU背板"></p>
<p>已经有点生锈了</p>
<p><img src="/static/nas/bd69bf14ly1ga6r3qvkv5j22c03407wq.jpg" alt="20191222_152216649_iOS.heic"></p>
<p>这个机箱要把所有的线接上之后再把主板扣上去.</p>
<p>原装散热器的高度是足够的, 为了方便安装我还是换了一个比较矮的<code>IS-30</code>, 高度 3cm, 是一开始担心原装散热器太高买的.</p>
<h2 id="系统">系统</h2>
<p>纠结了半天, 还是没直接用 debian 或者 ubuntu 这种发行版, 选择了 OpenMediaVault.</p>
<p>用了一天, 很满足我的需求(因为我经常会 ssh 上去), 但是单纯作为 nas 的话, web 界面功能想必万由易用性还是差很多.</p>

        
    </div>

    <div class="prev-next">
        
    </div>

    
    
    
    <div id="comments">
        <script src="https://utteranc.es/client.js"
    repo="trim21/blog"
    issue-term="title"
    theme="github-dark"
    crossorigin="anonymous"
    async></script>

    </div>
    
</div>



    

        </main><footer class="footer">
    
    

    

    

    

    <span>
        Made with &#10084;&#65039; using <a target="_blank" href="https://github.com/gokarna-theme/gokarna-hugo">Gokarna</a>
    </span>
</footer>
</body>
</html>
